<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<title>文本框打字效果</title>
	<script   language="javascript">
		var max=0;
msgkeeptime=2000;				//每条信息保持时间
typeinterval=50;
//定义需要显示的条目
tl = new msglist( 
	"钓鱼岛是钓鱼岛列岛的主岛，是中国固有领土，位于中国东海，距温州市约356千米、福州市约385千米、基隆市约190千米，面积4.3838平方公里，周围海域面积约为17万平方公里。",
	"1972年美国将其“行政管辖权”连同琉球一起“交给”日本，历史上琉球并不属于日本。",
	"中日钓鱼岛争议由此产生。1970年代开始，华人组织民间团体曾多次展开宣示主权的“保钓运动”。",
	"2012年9月10日起，中国有关部门对钓鱼岛及其附属岛屿开展常态化监视监测；9月11日，央视首次播钓鱼岛天气预报。",
	"2012年9月17日，央视报道：中国学者发现1895年日政府就知道钓鱼岛是中国的。"
	);

function msglist() {
	max=msglist.arguments.length;
	for (i=0; i<max; i++)
		this[i]=msglist.arguments[i];
}

var x = 0; pos = 0;				//初始化变量
var l = tl[0].length;				//取得第一条消息的长度

function msgtyper() {				//依次显示消息的主函数
document.tickform.msgbox.value = tl[x].substring(0, pos) + "_";	//显示第x条信息的前pos个字符，并在最后面加类似光标的下划线。
if(pos++ == l) {				//将需显示结束部分后移一个字符，如果超出了信息最大长度，则表明本条信息已经显示完整。
	pos = 0; 					//恢复指针，准备从第一个字符开始显示
	if(++x == max) 
		x = 0; 				//轮换需要显示的信息条目
	l = tl[x].length;				//取得下一次需要显示那条信息的长度
	setTimeout("msgtyper()", msgkeeptime); 		//将信息保持msgkeeptime毫秒后，显示下一条
}
else						//如果本条信息没有显示完
	setTimeout("msgtyper()", typeinterval);		//则设定显示下一个字的延时为typeinterval毫秒
}

</script>
</head>

<body OnLoad="msgtyper()" text="#000000">
	<form name="tickform">
		<textarea name="msgbox" rows="5"  cols="30"  style="overflow:auto" > </textarea>
	</form>
</body>
</html>